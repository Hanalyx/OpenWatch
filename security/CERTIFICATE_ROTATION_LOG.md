# Certificate Rotation Log

## Purpose
This log tracks all certificate generation and rotation events for OpenWatch security infrastructure.

---


## 2025-10-15: MongoDB Certificate Rotation

**Reason:** Security incident - private key committed to git history

**Action:** Generated new self-signed certificates
- CA Certificate: 10-year validity
- Server Certificate: 10-year validity with SAN support
- Client Certificate: 10-year validity

**Generated Files:**
- ca.crt, ca.key
- server.crt, server.key
- client.crt, client.key
- mongodb.pem (combined server key + cert)

**Backup Location:** /home/rracine/hanalyx/openwatch/security/certs/mongodb/backup-20251015-202156

**Generated By:** rracine
**Timestamp:** Wed 15 Oct 2025 08:22:01 PM EDT

**Completed Actions:**
- [x] Generated new certificates with 10-year validity
- [x] Backed up old certificates to backup-20251015-202156/
- [x] Set proper file permissions (600 for keys, 644 for certs)
- [x] Removed old certificate from git tracking
- [x] Enhanced .gitignore with MongoDB cert patterns
- [x] Created certificate generation script for future rotations

**Next Actions:**
- [ ] Update MongoDB container configuration (docker-compose.yml)
- [ ] Restart MongoDB services/containers
- [ ] Test MongoDB connectivity with new certificates
- [ ] Update application connection strings if needed
- [ ] Verify MongoDB health check passes

**Security Notes:**
- Old mongodb.pem remains in git history (16 commits)
- New certificate is gitignored and will not be committed
- Pre-commit hooks should be installed to prevent future incidents
- See: PREVENT_SECRETS_IN_GIT.md for protection strategy

---

## 2025-10-24: MongoDB Certificate Rotation

**Reason:** Security incident - private key committed to git history

**Action:** Generated new self-signed certificates
- CA Certificate: 10-year validity
- Server Certificate: 10-year validity with SAN support
- Client Certificate: 10-year validity

**Generated Files:**
- ca.crt, ca.key
- server.crt, server.key
- client.crt, client.key
- mongodb.pem (combined server key + cert)

**Backup Location:** /home/rracine/hanalyx/security/certs/mongodb/backup-20251024-195801

**Generated By:** rracine
**Timestamp:** Fri 24 Oct 2025 07:58:07 PM EDT

**Next Actions:**
- [ ] Update MongoDB container configuration
- [ ] Restart MongoDB services
- [ ] Test MongoDB connectivity
- [ ] Remove old certificate from git tracking
- [ ] Update documentation

---
